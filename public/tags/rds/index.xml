<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>rds on suwa3 blog</title>
    <link>https://hugo.suwa3.me/tags/rds/</link>
    <description>Recent content in rds on suwa3 blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja-JP</language>
    <lastBuildDate>Fri, 04 Oct 2019 13:10:00 +0000</lastBuildDate><atom:link href="https://hugo.suwa3.me/tags/rds/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>RDS作成時ポイント、お引っ越し</title>
      <link>https://hugo.suwa3.me/post/2019-10-04-rds%E4%BD%9C%E6%88%90%E6%99%82%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88%E3%81%8A%E5%BC%95%E3%81%A3%E8%B6%8A%E3%81%97/</link>
      <pubDate>Fri, 04 Oct 2019 13:10:00 +0000</pubDate>
      
      <guid>https://hugo.suwa3.me/post/2019-10-04-rds%E4%BD%9C%E6%88%90%E6%99%82%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88%E3%81%8A%E5%BC%95%E3%81%A3%E8%B6%8A%E3%81%97/</guid>
      <description>RDSとは：AWSのDBマネジメントサービスです。
作成時のポイント
作成時になるべく既存のMySQLと近いversionを選ぶようにします。
作成後エンドポイントを控えておくと作業がスムーズです。
EC2インスタンス内でdumpファイルのある
/tmp下に移動し、下記コマンドを実行してインポート。
$ mysql -u [ユーザー名] -p &amp;ndash;host [エンドポイント] &amp;lt; backup20191004.sql
オプション解説
--host [エンドポイントなどのホスト名]
RDSの場合はAmazon RDS DBインスタンスのエンドポイント
エンドポイントは、RDSマネジメントコンソールのインスタンス詳細で確認できます。
MySQL DB または MariaDB DB から Amazon RDS MySQL または MariaDB DB インスタンスへのデータのインポート
インポートが完了したらRDSにログインしてみます。
$ mysql -u [ユーザー名] -p &amp;ndash;host [エンドポイント]
DBの一覧を確認して、引っ越しができているか見ます。
mysql&amp;gt; show databases;
RDSが完成したら向きの指定を変えます。
EC2インスタンス内に入り下記に移動（Apacheなどの設定により違う）
/var/www/html/wp-config.php
// ** MySQL 設定 - この情報はホスティング先から入手してください。 ** // /** WordPress のためのデータベース名 */ define(&amp;lsquo;DB_NAME&amp;rsquo;, &amp;lsquo;[DB名]&amp;rsquo;);
/** MySQL データベースのユーザー名 */ define(&amp;lsquo;DB_USER&amp;rsquo;, &amp;lsquo;[ユーザー名]&amp;rsquo;);</description>
    </item>
    
    <item>
      <title>WordpressのEC2インスタンス内MySQLバックアップ</title>
      <link>https://hugo.suwa3.me/post/2019-10-04-wordpress%E3%81%AEec2%E3%82%A4%E3%83%B3%E3%82%B9%E3%82%BF%E3%83%B3%E3%82%B9%E5%86%85mysql%E3%82%92rds%E3%81%AB%E3%81%8A%E5%BC%95%E8%B6%8A%E3%81%97/</link>
      <pubDate>Fri, 04 Oct 2019 13:00:00 +0000</pubDate>
      
      <guid>https://hugo.suwa3.me/post/2019-10-04-wordpress%E3%81%AEec2%E3%82%A4%E3%83%B3%E3%82%B9%E3%82%BF%E3%83%B3%E3%82%B9%E5%86%85mysql%E3%82%92rds%E3%81%AB%E3%81%8A%E5%BC%95%E8%B6%8A%E3%81%97/</guid>
      <description>WordpressのEC2インスタンス内にあるMySQLデータをバックアップします。
MySQLのデータベースをmysqldumpでバックアップ/復元する方法
上記を参考にして進めました。
まずはEC2内に入りエクスポート
$ mysqldump &amp;ndash;single-transaction &amp;ndash;databases [DB名] -u [ユーザー名] -p &amp;gt; /tmp/backup20191004.sql
オプション解説
--single-transaction
データの整合性を維持する。ワントランザクションで作業を行う設定する
--databases [DB名]
DB名の指定
-u [ユーザー名]
ユーザー名の指定
-p
上で指定したユーザー名のパスワードを使用するオプション
dumpファイルを取ることに成功しました！
Next Step
RDSを作成します。</description>
    </item>
    
    <item>
      <title>AWS大規模障害</title>
      <link>https://hugo.suwa3.me/post/2019-08-23-aws%E5%A4%A7%E8%A6%8F%E6%A8%A1%E9%9A%9C%E5%AE%B3/</link>
      <pubDate>Fri, 23 Aug 2019 09:16:44 +0000</pubDate>
      
      <guid>https://hugo.suwa3.me/post/2019-08-23-aws%E5%A4%A7%E8%A6%8F%E6%A8%A1%E9%9A%9C%E5%AE%B3/</guid>
      <description>AWSで大規模な障害が起きていますね。
don.suwa3.meはAWSのEC2インスタンスを利用しているので
急いでログインしてDashboardのOpen issuesをcheckしました。
以下まとめ。
EC2インスタンスに関する障害報告
こちらは日本時間とGoogle翻訳です。
RDSに関する障害報告
こちらは日本時間とGoogle翻訳です。
現在いまだ復旧していないようです。
心がそわそわするー。</description>
    </item>
    
  </channel>
</rss>
