---
title: "æ©Ÿæ¢°å­¦ç¿’ã§ã‚¿ã‚¤ã‚¿ãƒ‹ãƒƒã‚¯ä¹—å®¢ã®ç”Ÿå­˜äºˆæ¸¬ã—ã¦ã¿ã‚‹"
date: "2019-10-13T13:20:00.000Z"
categories: 
  - "log"
  - "tech-blog"
tags: 
  - "colaboratory"
  - "kaggle"
  - "%e6%a9%9f%e6%a2%b0%e5%ad%a6%e7%bf%92"
---

[æ©Ÿæ¢°å­¦ç¿’ä½¿ã£ã¦ã‚‚æŠ€è¡“çš„è² å‚µã‚’æ®‹ã—ã«ãã„AWSã®ã‚¤ãƒ³ãƒ•ãƒ©æ§‹æˆ - Qiita](https://qiita.com/rilmayer/items/b574cdf3f7b3726d3bab)

> æ©Ÿæ¢°å­¦ç¿’ã§ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½œã‚‹ã“ã¨ãŒã§ãã‚‹äººã¯ä¸–ã®ä¸­ã«ãŸãã•ã‚“ã„ã¾ã™ãŒã€**ä½œã£ãŸå¾Œã«é‹ç”¨ã—ãŸã‚Šä¿å®ˆã—ãŸã‚Šã™ã‚‹äººãŒã„ã‚‹**ã¨ã„ã†ã“ã¨ã¾ã§ãã¡ã‚“ã¨è€ƒãˆã¦ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½œã‚Œã‚‹äººã¯ã©ã‚Œã ã‘ã„ã‚‹ã§ã—ã‚‡ã†ã‹ã€‚
> 
> ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒãƒƒãƒ”ãƒ¼ã«ãªã‚‹ã‹ã‚‰ã¨ã„ã£ã¦ã‚„ãŸã‚‰é«˜åº¦ãªæ©Ÿèƒ½ã‚’ä½œã‚Šã¾ãã£ã¦ã€è€ƒãˆãªã—ã«é«˜åˆ©å­ãªã‚·ã‚¹ãƒ†ãƒ ã‚’æœ¬ç•ªç’°å¢ƒã«ä¹—ã£ã‘ã¦ã¯ãªã‚‰ãªã„ã¨æ€ã£ã¦ãŠã‚Šã¾ã™ã€‚
> 
> ä¸Šè¨˜ã‚µã‚¤ãƒˆã‚ˆã‚Šå¼•ç”¨

ãƒ‡ãƒ¼ã‚¿ã®ã¨ã‚Šæ–¹ã€ä¿å­˜æ–¹æ³•ã‚„ä¿å­˜å…ˆãªã©ã®é¸å®š  
ä»Šå¾Œã€ä¾‹ãˆã°æ©Ÿæ¢°å­¦ç¿’ã‚’ã—ãŸã„ã¨ãŠã‚‚ã£ãŸã¨ãã«  
ã©ã®ã‚ˆã†ãªæ§‹æˆã«ã—ã¦ã„ãã‹ã‚’è€ƒãˆã‚‰ã‚ŒãŸã‚‰è‰¯ã„ãªã‚ã¨ãŠã‚‚ã£ãŸã®ã€‚  
æ©Ÿæ¢°å­¦ç¿’ã«ã¤ã„ã¦ã€ãªã«ã‚‚çŸ¥ã‚‰ãªã„ã‚ˆã‚Š  
ã©ã†ã„ã£ãŸä»•çµ„ã¿ãªã®ã‹ãã‚‰ã„æŠŠæ¡ã—ã¦ãŠããŸã„ãªã‚ã¨ã„ã†ã“ã¨ã§  
å°‘ã—ãšã¤å‹‰å¼·ä¸­ã§ã™ã€‚  
ä»Šæ—¥ã¯Kaggleã«æŒ‘æˆ¦ã—ã¦ã¿ã¾ã—ãŸã€‚

* * *

[ã€Kaggleåˆå¿ƒè€…å…¥é–€ç·¨ã€‘ã‚¿ã‚¤ã‚¿ãƒ‹ãƒƒã‚¯å·ã§ç”Ÿãæ®‹ã‚‹ã®ã¯èª°ï¼Ÿ](https://www.codexa.net/kaggle-titanic-beginner/)

ã“ã®è¨˜äº‹ã‚’å‚è€ƒã«ã—ãªãŒã‚‰é€²ã‚ãŸã€‚  
ä»Šå›ã¯JupyterNotebookã®ä»£ã‚ã‚Šã«Googleã®Colaboratoryã‚’ä½¿ã£ã¦ã¿ã¾ã—ãŸã€‚

[Google Colabã®ä½¿ã„æ–¹ã¾ã¨ã‚ - Qiita](https://qiita.com/shoji9x9/items/0ff0f6f603df18d631ab)

[Google Colabã®çŸ¥ã£ã¦ãŠãã¹ãä½¿ã„æ–¹](https://www.codexa.net/how-to-use-google-colaboratory/)

> Google Colabã¨ã¯ã€**Jupyter Notebookã‚’å¿…è¦æœ€ä½é™ã®åŠ´åŠ›ã¨ã‚³ã‚¹ãƒˆã§åˆ©ç”¨ã§ãã€ãƒ–ãƒ©ã‚¦ã‚¶ã¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆãŒã‚ã‚Œã°ä»Šã™ãã«ã§ã‚‚æ©Ÿæ¢°å­¦ç¿’ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é€²ã‚ã‚‹ã“ã¨ãŒå¯èƒ½ãªã‚µãƒ¼ãƒ“ã‚¹**ã§ã™ã€‚
> 
> ä¸Šè¨˜ã‚µã‚¤ãƒˆã‹ã‚‰å¼•ç”¨

- Pythonã‚„[Numpy](https://www.codexa.net/numpy/)ãªã©ã€æ©Ÿæ¢°å­¦ç¿’ã§å¿…è¦ãªã»ã¼å…¨ã¦ã®ç’°å¢ƒãŒã™ã§ã«æ§‹ç¯‰ã•ã‚Œã¦ã„ã‚‹ã€‚
- æ›¸ã„ãŸã‚³ãƒ¼ãƒ‰ï¼ˆãƒãƒ¼ãƒˆãƒ–ãƒƒã‚¯ï¼‰ã¯ã€ã‚°ãƒ¼ã‚°ãƒ«ãƒ‰ãƒ©ã‚¤ãƒ–ã§ä¿å­˜ã•ã‚Œã‚‹ã€‚

ãã—ã¦ã€Colaboratoryã®ç”»é¢ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚

![](http://wp.suwa3.me/wp-content/uploads/2019/10/image-6.png?w=1024)

  
æ¬¡ã«ã€Kaggleã«æ¥ç¶šã—ã¦ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆã€‚

**Kaggleã¨ã¯**

Kaggleã¯ä¼æ¥­ã‚„ç ”ç©¶è€…ãŒãƒ‡ãƒ¼ã‚¿ã‚’æŠ•ç¨¿ã—ã€ä¸–ç•Œä¸­ã®çµ±è¨ˆå®¶ã‚„ãƒ‡ãƒ¼ã‚¿åˆ†æå®¶ãŒãã®æœ€é©åŒ–ãƒ¢ãƒ‡ãƒ«ã‚’ç«¶ã„åˆã† 
äºˆæ¸¬ãƒ¢ãƒ‡ãƒªãƒ³ã‚°åŠã³åˆ†ææ‰‹æ³•é–¢é€£ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åŠã³ãã®é‹å–¶ä¼šç¤¾ã§ã‚ã‚‹ã€‚

ã¨ã„ã†ã“ã¨ã§ã€ã¾ãšã¯

https://www.kaggle.com/c/titanic/submissions

ã“ã®ãƒšãƒ¼ã‚¸ã®Rolesã«åŒæ„ã—ã¦  
ã€ŒJoin Competitionsã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚³ãƒ³ãƒšãƒ†ã‚£ã‚·ãƒ§ãƒ³ã«å‚åŠ ã—ã¾ã™ã€‚

https://www.kaggle.com/c/titanic/data

ã“ã¡ã‚‰ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’DL

Colaboratory

from google.colab import files 
files.upload()

https://www.kaggle.com/ãƒ¦ãƒ¼ã‚¶ãƒ¼å/account

ã“ã“ã®ãƒšãƒ¼ã‚¸ã‹ã‚‰  
ã€ŒCreate New API Tokenã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦DL

![](http://wp.suwa3.me/wp-content/uploads/2019/10/image-4.png?w=1024)

!mkdir -p ~/.kaggle 
!mv kaggle.json ~/.kaggle/

ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸAPI Tokenã‚’upã—ã¾ã™ã€‚

!chmod 600 /root/.kaggle/kaggle.json

!kaggle competitions download -c titanic

import pandas as pd 
import numpy as np 
train = pd.read\_csv("./train.csv") 
test = pd.read\_csv("./test.csv")

ã“ã®ã‚ã¨ã¯ãµã‚€ãµã‚€ã—ãªãŒã‚‰æ‰‹é †é€šã‚Šã«ã‚„ã£ã¦ã¿ã¾ã™ã€‚  
å¾ŒåŠã®å¤§äº‹ãã†ãªéƒ¨åˆ†ã‚’ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¾ã—ãŸã€‚

\# scikit-learnã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚’ã—ã¾ã™ 
from sklearn import tree

\# ã€Œtrainã€ã®ç›®çš„å¤‰æ•°ã¨èª¬æ˜å¤‰æ•°ã®å€¤ã‚’å–å¾— 
target = train\["Survived"\].values 
features\_one = train\[\["Pclass", "Sex", "Age", "Fare"\]\].values 
# æ±ºå®šæœ¨ã®ä½œæˆ 
my\_tree\_one = tree.DecisionTreeClassifier() 
my\_tree\_one = my\_tree\_one.fit(features\_one, target) 
# ã€Œtestã€ã®èª¬æ˜å¤‰æ•°ã®å€¤ã‚’å–å¾— 
test\_features = test\[\["Pclass", "Sex", "Age", "Fare"\]\].values 
# ã€Œtestã€ã®èª¬æ˜å¤‰æ•°ã‚’ä½¿ã£ã¦ã€Œmy\_tree\_oneã€ã®ãƒ¢ãƒ‡ãƒ«ã§äºˆæ¸¬ 
my\_prediction = my\_tree\_one.predict(test\_features)

\# äºˆæ¸¬ãƒ‡ãƒ¼ã‚¿ã®ã‚µã‚¤ã‚ºã‚’ç¢ºèª 
my\_prediction.shape

#äºˆæ¸¬ãƒ‡ãƒ¼ã‚¿ã®ä¸­èº«ã‚’ç¢ºèª 
print(my\_prediction)

\# PassengerIdã‚’å–å¾— 
PassengerId = np.array(test\["PassengerId"\]).astype(int) 
# my\_prediction(äºˆæ¸¬ãƒ‡ãƒ¼ã‚¿ï¼‰ã¨PassengerIdã‚’ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ã¸è½ã¨ã—è¾¼ã‚€ 
my\_solution = pd.DataFrame(my\_prediction, PassengerId, columns = \["Survived"\]) 
# my\_tree\_one.csvã¨ã—ã¦æ›¸ãå‡ºã— 
my\_solution.to\_csv("my\_tree\_one.csv", index\_label = \["PassengerId"\])

ls 
gender\_submission.csv my\_tree\_one.csv sample\_data/ test.csv train.csv

!kaggle competitions submit -c titanic -f my\_tree\_one.csv -m "Message"

â†‘æœ€å¾Œã¾ã§é€²ã‚“ã ã‚‰Kaggleã®TitanicSubmossionsãƒšãƒ¼ã‚¸ã«é£›ã‚“ã§  
ã€ŒMy Submissionsã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ç«¶æŠ€çµ‚äº†ã§ã™ã€‚

![](http://wp.suwa3.me/wp-content/uploads/2019/10/image-5.png?w=1024)

ã‚ãƒ¼ã„ğŸ‘

ã¨ã‚Šã‚ãˆãšã‚„ã£ã¦ã¿ãŸã®ã§  
ã‚ã¨ã¯å†…å®¹ç†è§£ã«åŠªã‚ã‚ˆã†ã¨ãŠã‚‚ã„ã¾ã™ã€‚
