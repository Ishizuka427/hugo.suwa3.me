---
title: "中華街/外部メディアファイルを削除する"
date: "2019-08-31T01:00:00.000Z"
categories: 
  - "%e6%9c%aa%e5%88%86%e9%a1%9e"
tags: 
  - "git"
  - "mastdon"
---

なんちにくはらむーさんらと中華街で食べ歩きしました！

![](http://wp.suwa3.me/wp-content/uploads/2019/09/2019-08-31-11-37-37.jpg?w=1024)

小籠包だよ。

今まで小籠包を誤解していたの。

お饅頭の類だとおもっていた。

いくらやプチトマトの仲間なんだということを知った。

おいしかったなあ。また食べたい。

最近ほんとうに忙しくて、余裕がなくて

こうやって作業優先しないで、何も考えずに話して食べてってするの

なんだか現実味がなかった。

こういう時間も大切なのかもしれないと思いました。

そのあとはコメダに移動して作業です。

むーさんと渋谷まで行って嶋田さんと顔だけ合わせてバイバイしました。

渋谷の宮益坂をのぼった先にあるコメダは何故かいつも集中できるの。

![](http://wp.suwa3.me/wp-content/uploads/2019/09/e382b9e382afe383aae383bce383b3e382b7e383a7e38383e38388-2019-09-01-10.45.24.png?w=763)

  

git pushしようとしたら、このコマンドで設定をしてくださいと言われた。

設定しようとしたらコンフリクト起こしていたため

一度git pullして設定しろと言われ、その設定でうまくいったので

![](http://wp.suwa3.me/wp-content/uploads/2019/09/e382b9e382afe383aae383bce383b3e382b7e383a7e38383e38388-2019-09-01-10.46.22.png?w=740)

再度pullして、その後はいつも通りいい感じで終わりました。

最後にgit remote -vでリモートブランチのブランチが確認できます。

[Dockerで構築したMastodonの外部メディアファイルを削除する方法](https://miha.hateblo.jp/entry/2019/01/12/000000)

ここを参考に画像削除のcronコマンドを書きました。

らしおさんに教わったコマンドでは

$ --rm [web bundle](http://d.hatena.ne.jp/keyword/web%20bundle) exec bin/tootctl media remove --days 1

確かこんな感じで

ただ--days 1だと「やっぱりやりなおしたい」とおもっても

一日前までの画像を消しちゃったらtestしづらいね、ということで

\--days 30 「あ、まちがえた」

\--days 29 「もう少し違う方法したいかも」

\--days 28「cronで設定したいなあ」

\--days 27「Ansibleで設定したい〜」

みたいな感じで30回くらいtestできるといいよねってことになり

\--days 30から行ってみたいと思います！
