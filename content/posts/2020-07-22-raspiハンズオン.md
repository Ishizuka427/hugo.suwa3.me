---
title: "RasPiãƒãƒ³ã‚ºã‚ªãƒ³"
date: "2020-07-22T13:00:42.000Z"
categories: 
  - "tech-blog"
tags: 
---

RasPiãƒãƒ³ã‚ºã‚ªãƒ³ã«å‚åŠ ã—ã¾ã—ãŸğŸ™Œ  
screenã‚³ãƒãƒ³ãƒ‰ã«æ…£ã‚ŒãŸã‚ˆã€‚

ç”¨æ„ã—ã¦è²°ã£ã¦ã„ãŸRasPiã«sshã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦  
ã„ã‚ã„ã‚ã¨è©¦ã—ã¦éŠã‚“ã æ„Ÿã˜ã§ã™ã€‚

å€‹äººçš„ã«ã¯ `$ sudo rm -rf /*` ã—ã¦ã¿ã‚ˆã†ã®ã¨ã“ã‚ãŒé¢ç™½ã‹ã£ãŸã€‚  
ãªã‹ãªã‹æ™®æ®µã‚„ã£ã¦ã¿ã‚ˆã†ã£ã¦ãªã‚‰ãªã„ã‚‚ã‚“ã­ãˆã€‚

å…ƒã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®ç ”ç©¶è·ã®æ–¹ãŒã„ã¦ã€ãã®äººã®è©±ã‚‚é¢ç™½ã‹ã£ãŸã§ã™ã€‚  
ãƒãƒ¼ãƒˆå…¨é–‹ã®ã‚µãƒ¼ãƒãƒ¼ã‚’ãƒãƒ‹ãƒ¼ãƒãƒƒãƒ‰ã¨ã—ã¦ç½®ã„ã¦  
æ•°ä¸‡ç¨®é¡ä»¥ä¸Šã®ãƒãƒ«ã‚¦ã‚§ã‚¢ã®æƒ…å ±ã‚’é›†ã‚ã¦ã€ãã‚Œã‚‰ã‚’æ©Ÿæ¢°å­¦ç¿’ã§è§£æã—ãŸã‚‰ã—ã„ã€‚

* * *

ãã®ã‚ã¨ã¯Prometheus on Dockerã—ã¦ã„ã¾ã—ãŸã€‚

[Getting started | Prometheus](https://prometheus.io/docs/prometheus/latest/getting_started/)  
ğŸ‘†Sampleã«ã‚ã£ãŸã‚·ãƒ³ãƒ—ãƒ«ãªprometheus.ymlã‚’å‚è€ƒã«ã—ãŸ

[Installation | Prometheus  
](https://prometheus.io/docs/prometheus/latest/installation/)ğŸ‘†Dockerä¸Šã§Prometheusã‚’å‹•ã‹ã™ã®ã«å‚è€ƒã«ã—ãŸ

```
% mkdir Prom
% cd Prom
% docker pull prom/prometheus
% vi prometheus.yml
```

```
global:
  scrape_interval:     15s # By default, scrape targets every 15 seconds.

  # Attach these labels to any time series or alerts when communicating with
  # external systems (federation, remote storage, Alertmanager).
  external_labels:
    monitor: 'codelab-monitor'

# A scrape configuration containing exactly one endpoint to scrape:
# Here it's Prometheus itself.
scrape_configs:
  # The job name is added as a label `job=<job_name>` to any timeseries scraped from this config.
  - job_name: 'prometheus'

    # Override the global default and scrape targets from this job every 5 seconds.
    scrape_interval: 5s

    static_configs:
      - targets: ['localhost:9090']
```

```
% docker run -p 9090:9090 prom/prometheus
% docker ps
CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                    NAMES
422fd884f616        prom/prometheus     "/bin/prometheus --câ€¦"   17 seconds ago      Up 16 seconds       0.0.0.0:9090->9090/tcp   eloquent_hofstadter
```

[http://0.0.0.0:9090/](http://0.0.0.0:9090/)

![](/images/ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ-2020-07-22-22.09.19.png)

ã‚ã€œã€œã€œ  
Prometheus Serverã¯å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ã‚°ãƒ©ãƒ•åŒ–ã—ã¦è¡¨ç¤ºã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã­  
æ¥½ã—ã„

[Prometheusã«ã‚ˆã‚‹Kubernetesãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°  
](https://www.weave.works/technologies/monitoring-kubernetes-with-prometheus/)ğŸ‘†ã“ã‚ŒãŒæ¦‚è¦ã¨ã—ã¦ã‚ã‹ã‚Šã‚„ã™ã„ãªãã¨æ„Ÿã˜ãŸã€‚

ã¨ã‚Šã‚ãˆãšãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¹ãƒ†ãƒƒãƒ—ã¯ä½•ã¨ã‹ã‚¯ãƒªã‚¢ã—ãŸğŸ™Œ

æ‚©ã¿ã©ã“ã‚ãªã‚“ã ã‘ã‚Œã©  
Prometheus on Dockerã§Kubernetesã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã®ç›£è¦–ã‚’ã•ã›ã‚‹ã¤ã‚‚ã‚Šã ã£ãŸã®ã€‚  
Kubernetesä¸Šã§Prometheusã‚’ç¨¼åƒã•ã›ã¦ã‚‚è‰¯ã„ãªãã¨æ€ã„  
ã¨ã‚Šã‚ãˆãšè³‡æ–™ã‚’æ¼ã£ã¦ã¿ã¦ã€ã„ã‘ãã†ãªæ–¹ã§LTè³‡æ–™ã‚’ä½œã‚ã†ã‹ãªã¨æ€ã„ã¾ã—ãŸã€‚
