---
title: "「これが無いと動かない」系"
date: "2020-03-04T13:00:00.000Z"
categories: 
  - "log"
  - "tech-blog"
tags: 
  - "python"
---

今日は少しだけ.pyを触ったので備忘録です。

GitHub  
[https://github.com/Ishizuka427/wp-pixela](https://github.com/Ishizuka427/wp-pixela)

### 経緯

サイドバーにあるGitHubの草風PV表示ですが  
PixelaというAPIで提供されているサービスと、Google Analytics APIを連携させているの。そこの連携部分をPythonで書いています。

諸々の方法などは下記の記事にまとめてあるので、気になった方は読んでください。

https://wp.suwa3.me/2019/12/28/pixela%e3%81%a8%e3%81%84%e3%81%86%e8%8d%89api%e3%82%b5%e3%83%bc%e3%83%93%e3%82%b9%e3%82%92%e5%88%a9%e7%94%a8%e3%81%97%e3%81%a6%e3%80%81wordpress%e3%81%aepv%e6%95%b0%e3%82%92github%e9%a2%a8%e3%81%ab-2/

EC2上でSNS運用していて、そこのインスタンスでcron実行させていたのだけれども  
サーバーの引っ越しなどしていたらcronの存在をすっかり忘れていて、草を生やし忘れていたの。

**そもそも1日1回のジョブならLambdaで良いのでは？  
**って感じなので、移行作業をしようと思って  
その準備として  
「とりあえずローカルで実行させてみよう」  
と、作業したら依存パッケージ絡みで躓いたので書き記します。

＿人人人人人人人人人人人人人人人人人＿  
＞　**今回Lambdaの話は出てきません**　＜  
￣Y^Y^Y^Y^Y^Y^Y^Y^Y^Y^Y^Y^Y^Y￣

### PypI

Pythonのサードパーティパッケージ  
[https://pypi.org/](https://pypi.org/)

`$ pip install <パッケージ名>` でインストールできます。

環境変数を.envにまとめて.pyに読み込ませて実行させていたのですが  
その際に使うモジュールを検索していて

![](/images/スクリーンショット-2020-03-06-14.07.58.png)

`dotenv` かなぁ。と思ってインストールしたら**違いました**。  
`$ pip install dotenv` すると、長いerrorを吐かれます。  
`py-dotenv` や `dotenv-python` などもそれっぽいですが、実はひっかけです。  
最終Releaseが **3年前** とかです。

正解は **python-dotenv** です！

![](/images/スクリーンショット-2020-03-06-14.12.20.png)

**こんなんわかるか！  
**って気持ちになったので、そのモチベーションだけでblogを書きました。

`dotenv` , `python` などでググれば出てくるといえば出てくるので  
ググり方がカスなだけでしたが、ここに備忘録として残します。

こういった「これが無いと動かない」系は、GitHubのREADME.mdに忘れずに書いておこうと思いました。
